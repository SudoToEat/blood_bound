# 鲜血盟约 - 快速使用指南

## 🚀 一键启动

```bash
# 克隆项目后，直接运行
npm install
npm run dev:full
```

## 📋 使用步骤

### 1. 主持人端

1. **访问游戏**
   - 打开浏览器访问: http://localhost:5173
   - 或局域网访问: http://[你的IP]:5173 (如 http://192.168.1.100:5173)

2. **创建房间**
   - 选择玩家数量 (6-12人)
   - 点击"创建房间"按钮
   - 获得房间号和每个玩家的二维码

3. **管理游戏**
   - 查看房间号（页面顶部显示）
   - 监控玩家加入状态
   - 点击"进入游戏面板"开始游戏
   - 使用"👀 揭示所有身份"按钮查看所有玩家信息

### 2. 玩家端

1. **加入游戏**
   - 扫描主持人提供的二维码（对应自己的玩家编号）
   - 或直接访问链接: `/access/[房间号]/[玩家ID]`
   - 例如: `http://192.168.1.100:5173/access/682048/1`

2. **查看身份**
   - 成功加入后自动显示个人身份
   - 页面顶部显示房间号
   - 实时同步游戏状态
   - 可以编辑自己的显示姓名

## 🔧 常用命令

### 启动服务
```bash
# 一键启动 (推荐)
npm run dev:full

# 分别启动
npm run server        # 后端服务 (端口3000)
npm run dev           # 前端服务 (端口5173)
```

### 停止服务
```bash
# 按 Ctrl+C 停止服务
```

## 🌐 访问地址

- **本地访问**: http://localhost:5173
- **局域网访问**: http://[你的IP]:5173 (需要获取本机IP)
- **后端API**: http://localhost:3000

### 如何获取本机IP?
```bash
# Windows
ipconfig

# Mac/Linux
ifconfig | grep "inet "
# 或
ip addr show
```

## 🎮 游戏流程

1. **准备阶段**
   - 主持人创建房间
   - 玩家扫描二维码加入
   - 确认所有玩家就绪

2. **游戏进行**
   - 玩家查看个人身份
   - 线下进行游戏互动
   - 使用工具记录伤害（展示线索）
   - 管理能力卡和诅咒卡

3. **游戏管理**
   - 主持人可以揭示/隐藏玩家身份
   - 恢复玩家血量
   - 开始新的一局

4. **结束游戏**
   - 游戏结束后可以重新开始
   - 或按 Ctrl+C 停止服务

## 🐛 常见问题

### 无法访问游戏
- 确认服务已启动（运行 `npm run dev:full`）
- 检查端口3000和5173未被占用
- 检查防火墙设置

### 玩家无法加入
- 确认房间号正确
- 检查网络连接（所有设备需在同一局域网）
- 尝试刷新页面

### 连接频繁断开
- 检查网络稳定性
- 查看连接状态栏提示
- 尝试重启服务

### 二维码扫描失败
- 提高屏幕亮度
- 确保二维码完整显示
- 尝试使用"复制链接"功能

## 📱 移动端使用

- ✅ 支持手机浏览器访问
- ✅ 响应式设计，自动适配屏幕
- ✅ 建议使用 Chrome、Safari 或 Edge

## 🔒 网络说明

- **开发环境**: 默认配置已支持局域网访问
- **同一网络**: 所有设备必须在同一Wi-Fi网络
- **防火墙**: 确保端口3000和5173未被阻止

## 💡 快速提示

- 🎯 主持人页面顶部会显示当前房间号
- 👀 使用"揭示所有身份"快速查看游戏状态
- 💚 点击"恢复血量"按钮可移除玩家的伤害线索
- 🔓 调查官可以查看和分配诅咒卡
- ✏️ 玩家可以编辑自己的显示姓名

## 📞 获取更多帮助

如果遇到问题：
1. 查看主 [README.md](README.md) 获取详细文档
2. 查看浏览器控制台错误信息 (F12)
3. 确保所有设备在同一网络
4. 重启服务和刷新页面
